import{_ as _taggedTemplateLiteral,a as _slicedToArray}from"./_rollupPluginBabelHelpers-5b654592.js";import React,{useState,useRef,useEffect}from"react";import PropTypes from"prop-types";import styled from"styled-components";import{StarBorder,StarHalf,Star}from"@material-ui/icons";var getRating=function(a){var b=a.index,c=a.type;return"half"===c?2*b-1:"full"===c?2*b:b};function _templateObject2(){var a=_taggedTemplateLiteral(["\n  width: 100%;\n  text-align: center;\n  position: absolute;\n  background-color: black;\n  color: white;\n  border-radius: 5px;\n  top: -26px;\n  line-height: 1.3;\n  ::after {\n    content: ' ';\n    position: absolute;\n    top: 100%; /* At the bottom of the tooltip */\n    left: 50%;\n    margin-left: -5px;\n    border-width: 5px;\n    border-style: solid;\n    border-color: black transparent transparent transparent;\n  }\n"]);return _templateObject2=function(){return a},a}function _templateObject(){var a=_taggedTemplateLiteral(["\n  position: relative;\n"]);return _templateObject=function(){return a},a}var Container=styled.div(_templateObject()),TooltipText=styled.span(_templateObject2()),Tooltip=function(a){var b=a.children,c=a.show,d=a.text;return React.createElement(Container,null,c&&React.createElement(TooltipText,null,d),b)};function _templateObject4(){var a=_taggedTemplateLiteral(["\n  width: 100%;\n  height: 100%;\n  & svg {\n    font-size: ","px;\n    color: ",";\n  }\n"]);return _templateObject4=function(){return a},a}function _templateObject3(){var a=_taggedTemplateLiteral(["\n  position: absolute;\n  right: 0;\n  width: 50%;\n  height: 100%;\n"]);return _templateObject3=function(){return a},a}function _templateObject2$1(){var a=_taggedTemplateLiteral(["\n  position: absolute;\n  left: 0;\n  width: 50%;\n  height: 100%;\n"]);return _templateObject2$1=function(){return a},a}function _templateObject$1(){var a=_taggedTemplateLiteral(["\n  position: relative;\n  height: 100%;\n  line-height: 0;\n"]);return _templateObject$1=function(){return a},a}var Container$1=styled.div(_templateObject$1()),LeftHalfOfIcon=styled.div(_templateObject2$1()),RightHalfOfIcon=styled.div(_templateObject3()),IconContainer=styled.div(_templateObject4(),function(a){return a.size},function(a){return a.color}),getIconType=function(a){return{empty:React.createElement(StarBorder,null),half:React.createElement(StarHalf,null),full:React.createElement(Star,null)}[a]},RatingIcon=function(a){var b=a.index,c=a.onMouseOver,d=a.onClick,e=a.type,f=a.size,g=a.color;return React.createElement(Container$1,null,React.createElement(LeftHalfOfIcon,{onMouseOver:function(){return c({index:b,type:"half"})},onClick:d}),React.createElement(RightHalfOfIcon,{onMouseOver:function(){return c({index:b,type:"full"})},onClick:d}),React.createElement(IconContainer,{size:f,color:g},getIconType(e)))};RatingIcon.propTypes={/** */index:PropTypes.number.isRequired,/** */onMouseOver:PropTypes.func,/** */onClick:PropTypes.func,/** */type:PropTypes.string.isRequired,/** */size:PropTypes.number.isRequired,/** */color:PropTypes.string.isRequired},RatingIcon.defaultProps={onMouseOver:Function.prototype,onClick:Function.prototype};var RatingItem=function(a){var b=Math.floor,c=a.itemIndex,d=a.overedItemIndex,e=a.overedItemType,f=a.rating,g=a.onMouseOver,h=a.onClick,i=a.size,j=a.color,k=b(d),l="empty";return c<k?l="full":c===k&&(l=e),React.createElement(Tooltip,{key:c,show:c===d,text:f},React.createElement(RatingIcon,{key:c,index:c,onMouseOver:g,onClick:h,type:l,size:i,color:j}))};function _templateObject3$1(){var a=_taggedTemplateLiteral(["\n  margin-left: 5px;\n  min-width: 30px;\n"]);return _templateObject3$1=function(){return a},a}function _templateObject2$2(){var a=_taggedTemplateLiteral(["\n  display: flex;\n"]);return _templateObject2$2=function(){return a},a}function _templateObject$2(){var a=_taggedTemplateLiteral(["\n  display: flex;\n  align-items: center;\n"]);return _templateObject$2=function(){return a},a}var Container$2=styled.div(_templateObject$2()),RatingStyled=styled.div(_templateObject2$2()),RatingInfo=styled.span(_templateObject3$1()),useDidMountEffect=function(a,b){var c=useRef(!1);useEffect(function(){c.current?a():c.current=!0},b)},Rating=function(a){var b=a.size,c=a.color,d=a.onRating,e=useState({index:0,type:"empty"}),f=_slicedToArray(e,2),g=f[0],h=f[1],i=useState({index:0,type:"empty"}),j=_slicedToArray(i,2),k=j[0],l=j[1],m=useState(0),n=_slicedToArray(m,2),o=n[0],p=n[1],q=function(a){return h(a)},r=function(){return l(g)};useDidMountEffect(function(){p(getRating(g))},[g]),useDidMountEffect(function(){d(o)},[k]);return React.createElement(Container$2,null,React.createElement(RatingStyled,{onMouseLeave:function(){return h(k)}},function(){return[,,,,,].fill().map(function(a,d){return React.createElement(RatingItem,{key:d+1,itemIndex:d+1,overedItemIndex:g.index,overedItemType:g.type,rating:o,onMouseOver:q,onClick:r,size:b,color:c})})}()),React.createElement(RatingInfo,null,"(",o,")"))};Rating.propTypes={/** Star size */size:PropTypes.number,/** Star color */color:PropTypes.string,/** Function */onRating:PropTypes.func},Rating.defaultProps={size:30,color:"orange",onRating:Function.prototype};export{Rating};
//# sourceMappingURL=Rating.js.map
