{"version":3,"file":"Rating.js","sources":["../src/Rating/utils/getRating.js","../src/Rating/components/RatingItem/components/Tooltip/Tooltip.js","../src/Rating/components/RatingItem/components/RatingIcon/RatingIcon.js","../src/Rating/components/RatingItem/RatingItem.js","../src/Rating/Rating.js"],"sourcesContent":["export const getRating = ({ index, type }) => {\n  if (type === 'half') {\n    return index * 2 - 1\n  }\n  if (type === 'full') {\n    return index * 2\n  }\n\n  return index\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nconst Container = styled.div`\n  position: relative;\n`\n\nconst TooltipText = styled.span`\n  width: 100%;\n  text-align: center;\n  position: absolute;\n  background-color: black;\n  color: white;\n  border-radius: 5px;\n  top: -26px;\n  line-height: 1.3;\n  ::after {\n    content: ' ';\n    position: absolute;\n    top: 100%; /* At the bottom of the tooltip */\n    left: 50%;\n    margin-left: -5px;\n    border-width: 5px;\n    border-style: solid;\n    border-color: black transparent transparent transparent;\n  }\n`\n\nconst Tooltip = ({ children, show, text }) => (\n  <Container>\n    {show && <TooltipText>{text}</TooltipText>}\n    {children}\n  </Container>\n)\n\nexport default Tooltip\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport { StarBorder, StarHalf, Star } from '@material-ui/icons'\n\nconst Container = styled.div`\n  position: relative;\n  height: 100%;\n  line-height: 0;\n`\n\nconst LeftHalfOfIcon = styled.div`\n  position: absolute;\n  left: 0;\n  width: 50%;\n  height: 100%;\n`\n\nconst RightHalfOfIcon = styled.div`\n  position: absolute;\n  right: 0;\n  width: 50%;\n  height: 100%;\n`\nconst IconContainer = styled.div`\n  width: 100%;\n  height: 100%;\n  & svg {\n    font-size: ${props => props.size}px;\n    color: ${props => props.color};\n  }\n`\n\nconst getIconType = type =>\n  ({\n    empty: <StarBorder />,\n    half: <StarHalf />,\n    full: <Star />\n  }[type])\n\nconst RatingIcon = ({ index, onMouseOver, onClick, type, size, color }) => (\n  <Container>\n    <LeftHalfOfIcon\n      onMouseOver={() => onMouseOver({ index, type: 'half' })}\n      onClick={onClick}\n    />\n    <RightHalfOfIcon\n      onMouseOver={() => onMouseOver({ index, type: 'full' })}\n      onClick={onClick}\n    />\n    <IconContainer size={size} color={color}>\n      {getIconType(type)}\n    </IconContainer>\n  </Container>\n)\n\nRatingIcon.propTypes = {\n  /** */\n  index: PropTypes.number.isRequired,\n  /** */\n  onMouseOver: PropTypes.func,\n  /** */\n  onClick: PropTypes.func,\n  /** */\n  type: PropTypes.string.isRequired,\n  /** */\n  size: PropTypes.number.isRequired,\n  /** */\n  color: PropTypes.string.isRequired\n}\n\nRatingIcon.defaultProps = {\n  onMouseOver: Function.prototype,\n  onClick: Function.prototype\n}\n\nexport default RatingIcon\n","import React, { useState } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport Tooltip from './components/Tooltip'\nimport RatingIcon from './components/RatingIcon'\n\nconst RatingItem = ({\n  itemIndex,\n  overedItemIndex,\n  overedItemType,\n  rating,\n  onMouseOver,\n  onClick,\n  size,\n  color\n}) => {\n  const numberOfFullItems = Math.floor(overedItemIndex)\n  let itemType = 'empty'\n\n  if (itemIndex < numberOfFullItems) {\n    itemType = 'full'\n  } else if (itemIndex === numberOfFullItems) {\n    itemType = overedItemType\n  }\n\n  return (\n    <Tooltip key={itemIndex} show={itemIndex === overedItemIndex} text={rating}>\n      <RatingIcon\n        key={itemIndex}\n        index={itemIndex}\n        onMouseOver={onMouseOver}\n        onClick={onClick}\n        type={itemType}\n        size={size}\n        color={color}\n      />\n    </Tooltip>\n  )\n}\n\nexport default RatingItem\n","import React, { useState, useRef, useEffect } from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport { getRating } from './utils/getRating'\nimport RatingItem from './components/RatingItem'\n\nconst Container = styled.div`\n  display: flex;\n  align-items: center;\n`\n\nconst RatingStyled = styled.div`\n  display: flex;\n`\n\nconst RatingInfo = styled.span`\n  margin-left: 5px;\n  min-width: 30px;\n`\n\nconst useDidMountEffect = (func, deps) => {\n  const didMount = useRef(false)\n\n  useEffect(() => {\n    if (didMount.current) func()\n    else didMount.current = true\n  }, deps)\n}\n\nconst Rating = ({ size, color, onRating }) => {\n  const [overedItem, setOveredItem] = useState({\n    index: 0,\n    type: 'empty'\n  })\n  const [clickedItem, setClickedItem] = useState({\n    index: 0,\n    type: 'empty'\n  })\n  const [rating, setRating] = useState(0)\n\n  const onMouseOver = starSelected => setOveredItem(starSelected)\n\n  const onMouseLeave = () => setOveredItem(clickedItem)\n\n  const onClick = () => setClickedItem(overedItem)\n\n  useDidMountEffect(() => {\n    setRating(getRating(overedItem))\n  }, [overedItem])\n\n  useDidMountEffect(() => {\n    onRating(rating)\n  }, [clickedItem])\n\n  const getRatingItems = () =>\n    Array(5)\n      .fill()\n      .map((_, index) => (\n        <RatingItem\n          key={index + 1}\n          itemIndex={index + 1}\n          overedItemIndex={overedItem.index}\n          overedItemType={overedItem.type}\n          rating={rating}\n          onMouseOver={onMouseOver}\n          onClick={onClick}\n          size={size}\n          color={color}\n        />\n      ))\n\n  return (\n    <Container>\n      <RatingStyled onMouseLeave={onMouseLeave}>\n        {getRatingItems()}\n      </RatingStyled>\n      <RatingInfo>({rating})</RatingInfo>\n    </Container>\n  )\n}\n\nRating.propTypes = {\n  /** Star size */\n  size: PropTypes.number,\n  /** Star color */\n  color: PropTypes.string,\n  /** Function */\n  onRating: PropTypes.func\n}\n\nRating.defaultProps = {\n  size: 30,\n  color: 'orange',\n  onRating: Function.prototype\n}\n\nexport { Rating }\n"],"names":["getRating","index","type","Container","styled","div","TooltipText","span","Tooltip","children","show","text","React","LeftHalfOfIcon","RightHalfOfIcon","IconContainer","props","size","color","getIconType","empty","StarBorder","half","StarHalf","full","Star","RatingIcon","onMouseOver","onClick","propTypes","PropTypes","number","isRequired","func","string","defaultProps","Function","prototype","RatingItem","Math","floor","itemIndex","overedItemIndex","overedItemType","rating","numberOfFullItems","itemType","key","RatingStyled","RatingInfo","useDidMountEffect","deps","didMount","useRef","useEffect","current","Rating","onRating","useState","overedItem","setOveredItem","clickedItem","setClickedItem","setRating","starSelected","onMouseLeave","Array","fill","map","_","getRatingItems"],"mappings":"0RAAO,GAAMA,CAAAA,SAAS,CAAG,UAAA,CAAqB,IAAlBC,CAAAA,CAAkB,GAAlBA,MAAOC,CAAW,GAAXA,KAAW,MAC/B,MAATA,GAAAA,CADwC,CAE3B,CAARD,CAAAA,CAAK,CAAO,CAFuB,CAI/B,MAATC,GAAAA,CAJwC,CAK3B,CAARD,CAAAA,CALmC,CAQrCA,CARF,CAAA,wqBCIDE,CAAAA,SAAS,CAAGC,MAAM,CAACC,GAAPD,kBAAAA,EAIZE,WAAW,CAAGF,MAAM,CAACG,IAAPH,mBAAAA,EAqBdI,OAAO,CAAG,UAAA,KAAGC,CAAAA,CAAH,GAAGA,SAAUC,CAAb,GAAaA,KAAMC,CAAnB,GAAmBA,WACjCC,CAAAA,mBAAA,CAACT,SAAD,KAAA,CACGO,CAAI,EAAIE,mBAAA,CAACN,WAAD,KAAA,CAAcK,CAAd,CADX,CAEGF,CAFH,CADF,suBCxBMN,CAAAA,WAAS,CAAGC,MAAM,CAACC,GAAPD,oBAAAA,EAMZS,cAAc,CAAGT,MAAM,CAACC,GAAPD,qBAAAA,EAOjBU,eAAe,CAAGV,MAAM,CAACC,GAAPD,mBAAAA,EAMlBW,aAAa,CAAGX,MAAM,CAACC,GAAPD,mBAAAA,CAIL,SAAAY,CAAA,QAASA,CAAAA,CAAK,CAACC,IAJb,CAAGb,CAKT,SAAAY,CAAA,QAASA,CAAAA,CAAK,CAACE,KALT,CAAGd,EAShBe,WAAW,CAAG,SAAAjB,CAAA,QACjB,CACCkB,KAAK,CAAER,mBAAA,CAACS,UAAD,KAAA,CADR,CAECC,IAAI,CAAEV,mBAAA,CAACW,QAAD,KAAA,CAFP,CAGCC,IAAI,CAAEZ,mBAAA,CAACa,IAAD,KAAA,CAHP,EAICvB,CAJD,CADH,EAOMwB,UAAU,CAAG,UAAA,KAAGzB,CAAAA,CAAH,GAAGA,MAAO0B,CAAV,GAAUA,YAAaC,CAAvB,GAAuBA,QAAS1B,CAAhC,GAAgCA,KAAMe,CAAtC,GAAsCA,KAAMC,CAA5C,GAA4CA,YAC7DN,CAAAA,mBAAA,CAACT,WAAD,KAAA,CACES,mBAAA,CAACC,cAAD,EACEc,WAAW,CAAE,iBAAMA,CAAAA,CAAW,CAAC,CAAE1B,KAAK,CAALA,CAAF,CAASC,IAAI,CAAE,MAAf,CAAD,CADhC,EAEE0B,OAAO,CAAEA,EAFX,CADF,CAKEhB,mBAAA,CAACE,eAAD,EACEa,WAAW,CAAE,iBAAMA,CAAAA,CAAW,CAAC,CAAE1B,KAAK,CAALA,CAAF,CAASC,IAAI,CAAE,MAAf,CAAD,CADhC,EAEE0B,OAAO,CAAEA,EAFX,CALF,CASEhB,mBAAA,CAACG,aAAD,EAAeE,IAAI,CAAEA,EAAMC,KAAK,CAAEA,EAAlC,CACGC,WAAW,CAACjB,CAAD,CADd,CATF,CADF,EAgBAwB,UAAU,CAACG,SAAXH,CAAuB,OAErBzB,KAAK,CAAE6B,SAAS,CAACC,MAAVD,CAAiBE,UAFH,OAIrBL,WAAW,CAAEG,SAAS,CAACG,IAJF,OAMrBL,OAAO,CAAEE,SAAS,CAACG,IANE,OAQrB/B,IAAI,CAAE4B,SAAS,CAACI,MAAVJ,CAAiBE,UARF,OAUrBf,IAAI,CAAEa,SAAS,CAACC,MAAVD,CAAiBE,UAVF,OAYrBd,KAAK,CAAEY,SAAS,CAACI,MAAVJ,CAAiBE,UAZH,EAevBN,UAAU,CAACS,YAAXT,CAA0B,CACxBC,WAAW,CAAES,QAAQ,CAACC,SADE,CAExBT,OAAO,CAAEQ,QAAQ,CAACC,SAFM,ECjE1B,GAAMC,CAAAA,UAAU,CAAG,UAAA,CASb,OACsBC,IAAI,CAACC,KAD3B,CARJC,CAQI,GARJA,SAQI,CAPJC,CAOI,GAPJA,eAOI,CANJC,CAMI,GANJA,cAMI,CALJC,CAKI,GALJA,MAKI,CAJJjB,CAII,GAJJA,WAII,CAHJC,CAGI,GAHJA,OAGI,CAFJX,CAEI,GAFJA,IAEI,CADJC,CACI,GADJA,KACI,CACE2B,CAAiB,CAAGN,EAAWG,CAAXH,CADtB,CAEAO,CAAQ,CAAG,OAFX,OAIAL,CAAAA,CAAS,CAAGI,EACdC,CAAQ,CAAG,OACFL,CAAS,GAAKI,IACvBC,CAAQ,CAAGH,GAIX/B,mBAAA,CAACJ,OAAD,EAASuC,GAAG,CAAEN,EAAW/B,IAAI,CAAE+B,CAAS,GAAKC,EAAiB/B,IAAI,CAAEiC,EAApE,CACEhC,mBAAA,CAACc,UAAD,EACEqB,GAAG,CAAEN,EACLxC,KAAK,CAAEwC,EACPd,WAAW,CAAEA,EACbC,OAAO,CAAEA,EACT1B,IAAI,CAAE4C,EACN7B,IAAI,CAAEA,EACNC,KAAK,CAAEA,EAPT,CADF,CApBJ,CAAA,mcCAMf,CAAAA,WAAS,CAAGC,MAAM,CAACC,GAAPD,oBAAAA,EAKZ4C,YAAY,CAAG5C,MAAM,CAACC,GAAPD,qBAAAA,EAIf6C,UAAU,CAAG7C,MAAM,CAACG,IAAPH,qBAAAA,EAKb8C,iBAAiB,CAAG,SAACjB,CAAD,CAAOkB,CAAP,CAAgB,IAClCC,CAAAA,CAAQ,CAAGC,MAAM,KAEvBC,SAAS,CAAC,UAAM,CACVF,CAAQ,CAACG,OADC,CACQtB,CAAI,EADZ,CAETmB,CAAQ,CAACG,OAATH,GAFE,CAAA,CAGND,CAHM,CAHX,EASMK,MAAM,CAAG,UAAA,CAA+B,IAA5BvC,CAAAA,CAA4B,GAA5BA,IAA4B,CAAtBC,CAAsB,GAAtBA,KAAsB,CAAfuC,CAAe,GAAfA,QAAe,GACRC,QAAQ,CAAC,CAC3CzD,KAAK,CAAE,CADoC,CAE3CC,IAAI,CAAE,OAFqC,CAAD,CADA,sBAAA,CACrCyD,CADqC,KAAA,CACzBC,CADyB,KAAA,GAKNF,QAAQ,CAAC,CAC7CzD,KAAK,CAAE,CADsC,CAE7CC,IAAI,CAAE,OAFuC,CAAD,CALF,sBAAA,CAKrC2D,CALqC,KAAA,CAKxBC,CALwB,KAAA,GAShBJ,QAAQ,CAAC,CAAD,CATQ,sBAAA,CASrCd,CATqC,KAAA,CAS7BmB,CAT6B,KAAA,CAWtCpC,CAAW,CAAG,SAAAqC,CAAA,QAAgBJ,CAAAA,CAAa,CAACI,CAAD,CAAjD,CAX4C,CAetCpC,CAAO,CAAG,iBAAMkC,CAAAA,CAAc,CAACH,CAAD,CAApC,CAf4C,CAiB5CT,iBAAiB,CAAC,UAAM,CACtBa,CAAS,CAAC/D,SAAS,CAAC2D,CAAD,CAAV,CADM,CAAA,CAEd,CAACA,CAAD,CAFc,CAjB2B,CAqB5CT,iBAAiB,CAAC,UAAM,CACtBO,CAAQ,CAACb,CAAD,CADO,CAAA,CAEd,CAACiB,CAAD,CAFc,CArB2B,OA2C1CjD,CAAAA,mBAAA,CAACT,WAAD,KAAA,CACES,mBAAA,CAACoC,YAAD,EAAciB,YAAY,CA/BT,iBAAML,CAAAA,CAAa,CAACC,CAAD,CAAxC,EA+BI,CAnBmB,iBACrBK,QACGC,IADHD,GAEGE,GAFHF,CAEO,SAACG,CAAD,CAAIpE,CAAJ,QACHW,CAAAA,mBAAA,CAAC0B,UAAD,EACES,GAAG,CAAE9C,CAAK,CAAG,EACbwC,SAAS,CAAExC,CAAK,CAAG,EACnByC,eAAe,CAAEiB,CAAU,CAAC1D,MAC5B0C,cAAc,CAAEgB,CAAU,CAACzD,KAC3B0C,MAAM,CAAEA,EACRjB,WAAW,CAAEA,EACbC,OAAO,CAAEA,EACTX,IAAI,CAAEA,EACNC,KAAK,CAAEA,EATT,CAHJ,CAAAgD,CADF,CAoBOI,EADH,CADF,CAIE1D,mBAAA,CAACqC,UAAD,KAAA,IAAA,CAAcL,CAAd,IAAA,CAJF,CA3CJ,EAoDAY,MAAM,CAAC3B,SAAP2B,CAAmB,iBAEjBvC,IAAI,CAAEa,SAAS,CAACC,MAFC,kBAIjBb,KAAK,CAAEY,SAAS,CAACI,MAJA,gBAMjBuB,QAAQ,CAAE3B,SAAS,CAACG,IANH,EASnBuB,MAAM,CAACrB,YAAPqB,CAAsB,CACpBvC,IAAI,CAAE,EADc,CAEpBC,KAAK,CAAE,QAFa,CAGpBuC,QAAQ,CAAErB,QAAQ,CAACC,SAHC"}